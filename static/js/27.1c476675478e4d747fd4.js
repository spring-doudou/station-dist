webpackJsonp([27],{"1Wlv":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{data:e.userData,border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"id",label:"id",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"userId",label:"用户id",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"realname",label:"真实姓名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"mobile",label:"手机号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"身份证正面",width:"300"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:{movable:!1},expression:"{movable: false}"}],staticClass:"images"},[a("img",{staticClass:"idCardImage",attrs:{src:e.row.idCardFrontImage}})])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"身份证反面",width:"300"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:{movable:!1},expression:"{movable: false}"}],staticClass:"images"},[a("img",{staticClass:"idCardImage",attrs:{src:e.row.idCardBackImage}})])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"手持身份证",width:"300"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:{movable:!1},expression:"{movable: false}"}],staticClass:"images"},[a("img",{staticClass:"idCardImage",attrs:{src:e.row.idCardHandImage}})])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"operatorName",label:"操作人",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{label:"认证状态",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?a("span",[a("el-tag",{attrs:{type:"success"}},[e._v("审核中")])],1):e._e(),e._v(" "),2===t.row.status?a("span",[a("el-tag",{attrs:{type:"success"}},[e._v("已认证")])],1):e._e(),e._v(" "),3===t.row.status?a("span",[a("el-tag",{attrs:{type:"success"}},[e._v("驳回")])],1):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?a("span",[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleAudit(t.row)}}},[e._v("通过")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleReject(t.row)}}},[e._v("驳回")])],1):e._e()]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.queryParam.page,"page-sizes":[20,50,100],"page-size":e.queryParam.size,layout:"total, sizes, prev, pager, next, jumper",total:e.rowCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"驳回",visible:e.rejectDialogVisible,width:"30%"},on:{"update:visible":function(t){e.rejectDialogVisible=t}}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入驳回理由"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.rejectDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.rejectClickHandler}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"通过",visible:e.auditDialogVisible,width:"30%"},on:{"update:visible":function(t){e.auditDialogVisible=t}}},[a("span",[e._v("确定通过该申请嘛？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.auditDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.auditClickHandler}},[e._v("确 定")])],1)]),e._v(" "),a("viewer",{attrs:{images:e.images}},e._l(e.images,function(e){return a("img",{key:e,attrs:{src:e}})}))],1)},r=[],s={render:i,staticRenderFns:r};t.a=s},GsD4:function(e,t,a){"use strict";var i=a("vMJZ");t.a={data:function(){return{images:[],remark:"",auditDialogVisible:!1,rejectDialogVisible:!1,queryParam:{page:1,size:20,mobile:"",realname:"",isPostman:1},editUser:{id:0,realname:""},listLoading:!0,userData:[],rowCount:0}},created:function(){this.queryUsers()},methods:{handleCurrentChange:function(e){this.queryParam.page=e,this.queryUsers()},handleSizeChange:function(e){this.queryParam.size=e,this.queryUsers()},handleAudit:function(e){this.editUser=e,this.auditDialogVisible=!0},handleReject:function(e){this.editUser=e,this.rejectDialogVisible=!0},auditClickHandler:function(){var e=this;a.i(i.a)(this.editUser.id).then(function(t){e.auditDialogVisible=!1,e.queryUsers()})},rejectClickHandler:function(){var e=this;a.i(i.b)(this.editUser.id,this.remark).then(function(t){e.rejectDialogVisible=!1,e.queryUsers()})},queryUsers:function(){var e=this;this.listLoading=!0,a.i(i.c)(this.queryParam).then(function(t){var a=t.result;e.userData=a.records,e.rowCount=a.total,e.listLoading=!1})}}}},eRPD:function(e,t,a){"use strict";function i(e){a("fKkq")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("GsD4"),s=a("1Wlv"),l=a("VU/8"),n=i,o=l(r.a,s.a,n,null,null);t.default=o.exports},fKkq:function(e,t,a){var i=a("l5M+");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("60cdd0a5",i,!0)},"l5M+":function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".idCardImage{width:80px;height:60px;cursor:pointer}",""])},vMJZ:function(e,t,a){"use strict";function i(e){return a.i(u.a)({url:"/web_api/v1/users",method:"get",params:e})}function r(e){return a.i(u.a)({url:"/web_api/v1/users/white",method:"post",params:{id:e}})}function s(e){return a.i(u.a)({url:"/web_api/v1/users/black",method:"post",params:{id:e}})}function l(e){return a.i(u.a)({url:"/web_api/v1/users/auth",method:"get",params:e})}function n(e){return a.i(u.a)({url:"/web_api/v1/users/auth/audit",method:"post",data:{id:e}})}function o(e,t){return a.i(u.a)({url:"/web_api/v1/users/auth/reject",method:"post",data:{id:e,remark:t}})}t.f=i,t.e=r,t.d=s,t.c=l,t.a=n,t.b=o;var u=a("Vo7i")}});