webpackJsonp([15],{"+Ec8":function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,".demo-table-expand[data-v-52961566]{font-size:0}.demo-table-expand label[data-v-52961566]{width:90px;color:#99a9bf}.demo-table-expand .el-form-item[data-v-52961566]{margin-right:0;margin-bottom:0;width:50%}",""])},E4LH:function(e,t,r){"use strict";function a(e){return/^[0-9]*$/.test(e)}function s(e){return null===e||void 0===e||0===e.length}t.a=a,t.b=s},FWz8:function(e,t,r){"use strict";function a(e){return r.i(s.a)({url:"/web_api/v1/orders/list",method:"get",params:e})}t.a=a;var s=r("Vo7i")},Vnqz:function(e,t,r){"use strict";function a(e,t){if(r.i(o.b)(e))return"";var a=new Date(e);/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));var l={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds()};for(var n in l){var u=l[n]+"";new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?u:s(u)))}return t}function s(e){return("00"+e).substr(e.length)}t.a=a;var o=r("E4LH")},YRrY:function(e,t,r){var a=r("+Ec8");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r("rjj0")("3081f7bc",a,!0)},"e+iX":function(e,t,r){"use strict";function a(e){r("YRrY")}Object.defineProperty(t,"__esModule",{value:!0});var s=r("pnLg"),o=r("jPad"),l=r("VU/8"),n=a,u=l(s.a,o.a,n,"data-v-52961566",null);t.default=u.exports},jPad:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("el-col",{staticClass:"toolbar",staticStyle:{"margin-top":"10px"},attrs:{span:24}},[r("el-form",{ref:"queryForm",staticClass:"shop-form-inline",attrs:{inline:!0,model:e.queryForm,rules:e.queryFormRules}},[r("el-row",{staticStyle:{"margin-left":"15px"}},[r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{prop:"orderId",label:"订单号"}},[r("el-input",{attrs:{clearable:"",placeholder:"请输入订单ID搜索"},model:{value:e.queryForm.orderId,callback:function(t){e.$set(e.queryForm,"orderId",t)},expression:"queryForm.orderId"}},[r("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1)],1),e._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"订单状态"}},[r("el-select",{attrs:{clearable:"",placeholder:"全部"},model:{value:e.queryForm.status,callback:function(t){e.$set(e.queryForm,"status",t)},expression:"queryForm.status"}},e._l(e.orderStatusList,function(e){return r("el-option",{key:e.status,attrs:{label:e.desc,value:e.status}})}))],1)],1),e._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"订单类型"}},[r("el-select",{attrs:{clearable:"",placeholder:"全部"},model:{value:e.queryForm.type,callback:function(t){e.$set(e.queryForm,"type",t)},expression:"queryForm.type"}},e._l(e.orderTypeList,function(e){return r("el-option",{key:e.type,attrs:{label:e.desc,value:e.type}})}))],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"订单生成时间"}},[r("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.queryForm.dateRange,callback:function(t){e.$set(e.queryForm,"dateRange",t)},expression:"queryForm.dateRange"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.queryOrders}},[e._v("搜索")])],1)],1)],1)],1),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.ordersTable}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left","label-width":"100px",inline:""}},[r("el-form-item",{attrs:{label:"用户地址:"}},[r("span",[e._v(e._s(t.row.userAddress))])]),e._v(" "),r("el-form-item",{attrs:{label:"商户地址:"}},[r("span",[e._v(e._s(t.row.shopAddress))])]),e._v(" "),r("el-form-item",{attrs:{label:"支付方式:"}},[r("span",[e._v(e._s(e._f("formatPaymentType")(t.row.paymentType)))])]),e._v(" "),r("el-form-item",{attrs:{label:"是否需要发票:"}},[r("span",[e._v(e._s(e._f("formatIsNeedInvoice")(t.row.isNeedInvoices)))])]),e._v(" "),r("el-form-item",{attrs:{label:"包装袋费用:"}},[r("span",[e._v(e._s(t.row.bagAmount)+"元")])]),e._v(" "),r("el-form-item",{attrs:{label:"总重量:"}},[r("span",[e._v(e._s(t.row.totalWeight)+"克")])]),e._v(" "),r("el-form-item",{attrs:{label:"商品总价:"}},[r("span",[e._v(e._s(t.row.totalAmount)+"元")])]),e._v(" "),r("el-form-item",{attrs:{label:"配送价:"}},[r("span",[e._v(e._s(t.row.deliveryAmount)+"元")])]),e._v(" "),r("el-form-item",{attrs:{label:"用户支付:"}},[r("span",[e._v(e._s(t.row.userPaymentAmount)+"元")])]),e._v(" "),r("el-form-item",{attrs:{label:"商户补贴:"}},[r("span",[e._v(e._s(t.row.shopAllowance)+"元")])]),e._v(" "),r("el-form-item",{attrs:{label:"平台补贴:"}},[r("span",[e._v(e._s(t.row.platformAllowance)+"元")])]),e._v(" "),r("el-form-item",{attrs:{label:"平台佣金:"}},[r("span",[e._v(e._s(t.row.platformCommission)+"元")])]),e._v(" "),r("el-form-item",{attrs:{label:"商户经纬度:"}},[r("span",[e._v(e._s(t.row.shopLongitude)+","+e._s(t.row.shopLatitude))])]),e._v(" "),r("el-form-item",{attrs:{label:"用户经纬度:"}},[r("span",[e._v(e._s(t.row.userLongitude)+","+e._s(t.row.userLatitude))])]),e._v(" "),r("el-form-item",{attrs:{label:"用户姓名:"}},[r("span",[e._v(e._s(t.row.userName))])]),e._v(" "),r("el-form-item",{attrs:{label:"用户备注:"}},[r("span",[e._v(e._s(t.row.userRemark))])])],1)]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"订单号",prop:"orderIdDesc"}}),e._v(" "),r("el-table-column",{attrs:{label:"流水号",prop:"serialNumber"}}),e._v(" "),r("el-table-column",{attrs:{label:"用户手机号",prop:"userMobile"}}),e._v(" "),r("el-table-column",{attrs:{label:"商家手机号",prop:"shopMobile"}}),e._v(" "),r("el-table-column",{attrs:{width:"270",label:"商家名称",prop:"shopName"}}),e._v(" "),r("el-table-column",{attrs:{label:"商家城市",prop:"shopCityName"}}),e._v(" "),r("el-table-column",{attrs:{label:"订单类型",prop:"orderBookingType"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",{attrs:{type:1===t.row.orderBookingType?"":"success","close-transition":""}},[e._v(e._s(e._f("formatOrderBookingType")(t.row.orderBookingType))+"\n        ")])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"订单状态",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",{attrs:{type:e.getTagTypeByStatus(t.row.status),"close-transition":""}},[e._v(e._s(e._f("formatOrderStatus")(t.row.status))+"\n        ")])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"订单生成时间",prop:"createTime",formatter:e.formatCreateTime}}),e._v(" "),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(e){}}])})],1),e._v(" "),r("div",{staticClass:"block"},[r("el-pagination",{attrs:{"current-page":e.queryForm.pageIndex,"page-sizes":[20,50,100],"page-size":e.queryForm.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.rowCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},s=[],o={render:a,staticRenderFns:s};t.a=o},pnLg:function(e,t,r){"use strict";var a=r("FWz8"),s=r("zL8q"),o=(r.n(s),r("E4LH")),l=r("Vnqz");t.a={data:function(){return{orderStatusList:[{status:0,desc:"待付款"},{status:1,desc:"付款失败"},{status:2,desc:"已付款"},{status:3,desc:"已接单"},{status:4,desc:"拣货完成"},{status:5,desc:"呼叫配送"},{status:6,desc:"无人配送"},{status:7,desc:"商家自配送"},{status:8,desc:"订单完成"},{status:9,desc:"订单失败"}],orderTypeList:[{type:0,desc:"即时单"},{type:1,desc:"预定单"}],queryForm:{orderId:"",type:"",status:"",dateRange:"",pageIndex:1,pageSize:20},queryFormRules:{orderId:[{validator:function(e,t,a){""===t||r.i(o.a)(t)?a():a(new Error("非法订单ID"))},trigger:"blur"}]},ordersTable:[],rowCount:0,listLoading:!1}},filters:{formatPaymentType:function(e){switch(e){case 0:return"微信";case 1:return"支付宝";default:return"其他"}},formatIsNeedInvoice:function(e){switch(e){case 0:return"否";case 1:return"是";default:return"其他"}},formatOrderBookingType:function(e){switch(e){case 0:return"即时单";case 1:return"预订单";default:return"未知类型"}},formatOrderStatus:function(e){switch(e){case 0:return"待付款";case 1:return"付款失败";case 2:return"已付款";case 3:return"已接单";case 4:return"拣货完成";case 5:return"呼叫配送";case 6:return"无人配送";case 7:return"商家自配送";case 8:return"订单完成";case 9:return"订单失败";case 10:return"订单异常"}}},created:function(){this.queryOrders()},methods:{handleCurrentChange:function(e){this.queryForm.pageIndex=e,this.queryOrders()},handleSizeChange:function(e){this.queryForm.pageSize=e,this.queryOrders()},queryOrders:function(){var e=this;this.listLoading=!0,r.i(a.a)(this.queryForm).then(function(t){var a=t.result;r.i(o.b)(a.records)?e.ordersTable=[]:(e.ordersTable=a.records,e.rowCount=a.total)}).catch(function(e){s.Message.error(e.errorMsg)}).finally(function(){e.listLoading=!1})},getTagTypeByStatus:function(e){switch(e){case 0:return"info";case 1:case 3:case 4:case 5:case 6:case 8:return"";case 2:case 12:return"warning";case 9:return"success";case 10:case 11:return"danger"}},formatCreateTime:function(e,t,a){return r.i(l.a)(a,"yyyy-MM-dd hh:mm:ss")}}}}});